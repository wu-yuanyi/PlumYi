#-*- coding:utf-8 -*-

import time
from lunardate import LunarDate
timestr=time.strftime('%Y-%m-%d-%H-%M-%S',time.localtime(time.time()))

hexagram={1:"天",2:"泽",3:"火",4:"雷",5:"风",6:"水",7:"山",8:"地"}
#hexagram={1:"乾",2:"兑",3:"离",4:"震",5:"巽",6:"坎",7:"艮",8:"坤"}
mean_of_hexagram={"乾":"天","兑":"泽","离":"火","震":"雷","巽":"风","坎":"水","艮":"山","坤":"地"}

Yao={
    "天天乾":"大哉乾元、万物资始，乃统天。云行雨施，品物流形。大明终始，六位时成，时乘六龙以御天。乾道变化，各正性命，保合太和，乃利贞。首出庶物，万国咸宁。",
    "地地坤":"至哉坤元，万物资生，乃顺承天。坤厚载物，德合无疆。含弘光大，品物咸亨。牝马地类，行地无疆，柔顺利贞。君子攸行，先迷失道，後顺得常。西南得朋，乃与类行；东北丧朋，乃终有庆。安贞之吉，应地无疆。",
    "水雷屯":"屯，刚柔始交而难生，动乎险中，大亨贞。雷雨之动满盈，天造草昧，宜建侯而不宁。",
    "山水蒙":"蒙，山下有险，险而止，蒙。蒙亨，以亨行时中也。匪我求童蒙，童蒙求我，志应也。初筮告，以刚中也。再三渎，渎则不告，渎蒙也。蒙以养正，圣功也。",
    "水天需":"需，须也，险在前也，刚健而不陷，其义不困穷矣。需有孚，光亨贞吉，位乎天位，以正中也。利涉大川，往有功也。",
    "天水讼":"讼，上刚下险，险而健，讼。讼，有孚、窒、惕、中吉，刚来而得中也。终凶，讼不可成也。",
    "地水师":"师，众也；贞，正也。能以众正，可以王矣。刚中而应，行险而顺，以此毒天下，而民从之，吉又何咎矣。",
    "水地比":"比，吉也；比，辅也。下顺从也。原筮，元永贞，无咎，以刚中也。不宁方来，上下应也。後夫凶，其道穷也。",
    "风天小畜":"小畜，柔得位而上下应之，曰小畜。健而巽，刚中而志行，乃亨。密云不雨，尚往也。自我西郊，施未行也。",
    "天泽履":"履，柔履刚也。说而应乎乾，是以履虎尾，不咥人，亨。刚中正，履帝位而不疚，光明也。",
    "地天泰":"泰，小往大来，吉，亨。则是天地交而万物通也，上下交而其志同也。内阳而外阴，内健而外顺，内君子而外小人，君子道长，小人道消也。",
    "天地否":"否之匪人，不利君子贞，大往小来。则是天地不交而万物不通也，上下不交而天下无邦也。内阴而外阳，内柔而外刚，内小人而外君子。小人道长，君子道消也。",
    "天火同人":"同人，柔得位得中，而应乎乾，曰同人。同人曰「同人于野，亨。利涉大川。」乾行也。文明以健，中正而应，君子正也。唯君子为能通天下之志。",
    "火天大有":"火在天上，大有；君子以遏恶扬善，顺天休命。大有初九，无交害也。大车以载，积中不败也。公用亨于天子，小人害也。匪其彭无咎，明辨皙也。厥孚交如，信以发志也。威如之吉，易而无备也。大有上吉，自天佑也。",
    "地山谦":"谦亨，天道下济而光明，地道卑而上行。天道亏盈而益谦，地道变盈而流谦，鬼神害盈而福谦，人道恶盈而好谦。谦尊而光，卑而不可逾，君子之终也。",
    "雷地豫":"豫，刚应而志行，顺以动，豫。豫顺以动，故天地如之，而况建侯行师乎？天地以顺动，故日月不过而四时不忒；圣人以顺动，则刑罚清而民服。豫之时义大矣哉。",
    "泽地随":"随，刚来而下柔，动而说，随。大亨贞无咎，而天下随时。随时之义大矣哉。",
    "山风蛊":"蛊，刚上而柔下，巽而止，蛊。蛊元亨，而天下治也。利涉大川，往有事也。先甲三日，後甲三日，终则有始，天行也。",
    "地泽临":"临，刚浸而长，说而顺，刚中而应，大亨以正，天之道也。至于八月有凶，消不久也。",
    "风地观":"大观在上，顺而巽，中正以观天下。观，盥而不荐，有孚颙若，下观而化也。观天之神道，而四时不忒；圣人以神道设教，而天下服矣。",
    "火雷噬嗑":"颐中有物，曰噬嗑。噬嗑而亨，刚柔分，动而明，雷电合而章。柔得中而上行，虽不当位，利用狱也。",
    "山火贲":"贲，亨，柔来而文刚，故亨；分刚上而文柔，故小利有攸住，天文也；文明以止，人文也。观乎天文，以察时变；观乎人文，以化成天下。",
    "山地剥":"剥，剥也，柔变刚也。不利有攸往，小人长也。顺而止之，观象也。君子尚消息盈虚，天行也。",
    "地雷复":"复亨，刚反，动而以顺行，是以出入无疾，朋来无咎。反复其道，七日来复，天行也。利有攸往，刚长也。复，其见天地之心乎？",
    "天雷无妄":"无妄，刚自外来，而为主於内。动而健，刚中而应，大亨以正，天之命也。其匪正有眚，不利有攸往，无妄之往，何之矣？天命不佑，行矣哉？",
    "山天大畜":"大畜，刚健笃实辉光，日新其德，刚上而尚贤。能止健，大正也。不家食吉，养贤也。利涉大川，应乎天也。",
    "山雷颐":"颐贞吉，养正则吉也。观颐，观其所养也；自求口实，观其自养也。天地养万物，圣人养贤以及万民。颐之时大矣哉。",
    "泽风大过":"大过，大者过也。栋桡，本末弱也。刚过而中，巽而说行，利有攸往，乃亨。大过之时大矣哉。",
    "水水坎":"习坎，重险也。水流而不盈，行险而不失其信，维心亨，乃以刚中也。行有尚，往有功也。天险不可升也，地险山川丘陵也，王公设险以守其国。险之时用大矣哉。",
    "火火离":"离，丽也；日月丽乎天，百谷草木丽乎土，重明以丽乎正，乃化成天下。柔丽乎中正，故亨，是以畜牝牛吉也。",
    "泽山咸":"咸，感也。柔上而刚下，二气感应以相与。止而说，男下女，是以亨利贞，取女吉也。天地感而万物化生，圣人感人心而天下和平。观其所感，而天地万物之情可见矣。",
    "雷风恒":"恒，久也。刚上而柔下，雷风相与，巽而动，刚柔皆应，恒。恒亨无咎利贞，久于其道也。天地之道，恒久而不已也。利有攸往，终则有始也。日月得天，而能久照。四时变化，而能久成。圣人久于其道，而天下化成。观其所恒，而天地万物之情可见矣。",
    "天山遯":"遯亨，遯而亨也。刚当位而应，与时行也。小利贞，浸而长也。遯之时义大矣哉。",
    "雷天大壮":"大壮，大者壮也。刚以动，故壮。大壮利贞，大者正也。正大，而天地之情可见矣。",
    "火地晋":"晋，进也，明出地上，顺而丽乎大明，柔进而上行，是以康侯用锡马蕃庶，昼日三接也。",
    "地火明夷":"明入地中，明夷。内文明而外柔顺，以蒙大难，文王以之。利艰贞，晦其明也。内难而能正其志，箕子以之。",
    "风火家人":"家人，女正位乎内，男正位乎外。男女正，天地之大义也。家人有严君焉，父母之谓也。父父、子子、兄兄、弟弟、夫夫、妇妇，而家道正。正家，而天下定矣。",
    "火泽睽":"睽，火动而上，泽动而下。二女同居，其志不同行。说而丽乎明，柔进而上行，得中而应乎刚，是以小事吉。天地睽而其事同也，男女睽而其志通也，万物睽而其事类也。睽之时用大矣哉。",
    "水山蹇":"蹇，难也，险在前也。见险而能止，知矣哉。蹇利西南，往得中也。不利东北，其道穷也。利见大人，往有功也。当位贞吉，以正邦也。蹇之时用大矣哉。",
    "雷水解":"解，险以动，动而免乎险，解。解利西南，往得众也。无所往，其来复吉，乃得中也。有攸往夙吉，往有功也。天地解而雷雨作，雷雨作而百果草木皆甲坼。解之时大矣哉。",
    "山泽损":"损，损下益上，其道上行。损而有孚，元吉无咎，可贞，利有攸往。曷之用二簋，可用享。二簋应有时，损刚益柔有时。损益盈虚，与时偕行。",
    "风雷益":"益，损上益下，民说无疆。自上下下，其道大光。利有攸往，中正有庆。利涉大川，木道乃行。益动而巽，日进无疆。天施地生，其益无方。凡益之道，与时偕行。",
    "泽天夬":"夬，决也，刚决柔也。健而说，决而和。扬于王庭，柔乘五刚也。孚号有厉，其危乃光也。告自邑不利即戎，所尚乃穷也。利有攸往，刚长乃终也。",
    "天风姤":"姤，遇也，柔遇刚也。勿用取女，不可与长也。天地相遇，品物咸章也。刚遇中正，天下大行也。姤之时义大矣哉。",
    "泽地萃":"萃，聚也。顺以说，刚中而应，故聚也。王假有庙，致孝享也。利见大人亨，聚以正也。用大牲吉，利有攸往，顺天命也。观其所聚，而天地万物之情可见矣。",
    "地风升":"柔以时升，巽而顺，刚中而应，是以大亨。用见大人勿恤，有庆也。南征吉，志行也。",
    "泽水困":"困，刚揜也。险以说，困而不失其所亨，其唯君子乎。贞大人吉，以刚中也。有言不信，尚口乃穷也。",
    "水风井":"巽乎水而上水，井。井，养而不穷也。改邑不改井，乃以刚中也。汔至亦未繘井，未有功也。羸其瓶，是以凶也。",
    "泽火革":"革，水火相息，二女同居，其志不相得，曰革。巳日乃孚，革而信之。文明以说，大亨以正。革而当，其悔乃亡。天地革，而四时成。汤武革命，顺乎天而应乎人。革之时大矣哉。",
    "火风鼎":"鼎，象也。以木巽火，亨饪也。圣人亨以享上帝，而大亨以养圣贤。巽而耳目聪明，柔进而上行，得中而应乎刚，是以元亨。",
    "雷雷震":"震亨，震来虩虩，恐致福也。笑言哑哑，后有则也。震惊百里，惊远而惧迩也。不丧匕鬯，出可以守宗庙社稷，以为祭主也。",
    "山山艮":"艮，止也。时止则止，时行则行，动静不失其时，其道光明。艮其止，止其所也。上下敌应，不相与也。是以不获其身，行其庭不见其人，无咎也。",
    "风山渐":"渐，之进也，女归吉也。进得位，往有功也。进以正，可以正邦也。其位，刚得中也。止而巽，动不穷也。",
    "雷泽归妹":"归妹，天地之大义也。天地不交，而万物不兴。归妹，人之终始也。说以动，所归妹也。征凶，位不当也。无攸利，柔乘刚也。",
    "雷火丰":"丰，大也。明以动，故丰。王假之，尚大也。勿忧宜日中，宜照天下也。日中则昃，月盈则食，天地盈虚，与时消息，而况于人乎，况于鬼神乎？",
    "火山旅":"旅，小亨，柔得中乎外，而顺乎刚，止而丽乎明，是以小亨旅贞吉也。旅之时义大矣哉。",
    "风风巽":"重巽以申命，刚巽乎中正而志行。柔皆顺乎刚，是以小亨，利有攸往，利见大人。",
    "泽泽兑":"兑，说也。刚中而柔外，说以利贞，是以顺乎天，而应乎人。说以先民，民忘其劳。说以犯难，民忘其死。兑之大，民劝矣哉。",
    "风水涣":"涣亨，刚来而不穷，柔得位乎外，而上同。王假有庙，王乃在中也。利涉大川，乘木有功也。",
    "水泽节":"节亨，刚柔分而刚得中。苦节不可贞，其道穷也。说以行险，当位以节，中正以通。天地节，而四时成。节以制度，不伤财，不害民。",
    "风泽中孚":"中孚，柔在内而刚得中，说而巽，孚乃化邦也。豚鱼吉，信及豚鱼也。利涉大川，乘木舟虚也。中孚以利贞，乃应乎天也。",
    "雷山小过":"小过，小者过而亨也。过以利贞，与时行也。柔得中，是以小事吉也。刚失位而不中，是以不可大事也。有飞鸟之象焉，飞鸟遗之音，不宜上宜下大吉，上逆而下顺也。",
    "水火既济":"既济亨，小者亨也。利贞，刚柔正而位当也。初吉，柔得中也。终止则乱，其道穷也。",
    "火水未济":"未济亨，柔得中也。小狐汔济，未出中也。濡其尾，无攸利，不续终也。虽不当位，刚柔应也。"
    }

timestr=time.strftime('%Y-%m-%d-%H-%M-%S',time.localtime(time.time()))
timelist=timestr.split('-')
lunar=LunarDate.fromSolarDate(int(timelist[0]),int(timelist[1]),int(timelist[2]))
lunar_year=((lunar.year-2000+6)%12) and ((lunar.year-2000+6)%12) or 12
lunar_month=lunar.month
lunar_day=lunar.day
lunar_hour=bool(((int(timelist[3])+1)//2+1)%12) and (((int(timelist[3])+1)//2+1)%12) or 12

upperhexagram=((lunar_year+lunar_month+lunar_day)%8) and ((lunar_year+lunar_month+lunar_day)%8) or 8
lowerhexagram=((lunar_year+lunar_month+lunar_day+lunar_hour)%8) and ((lunar_year+lunar_month+lunar_day+lunar_hour)%8) or 8
trans=((lunar_year+lunar_month+lunar_day+lunar_hour)%6) and ((lunar_year+lunar_month+lunar_day+lunar_hour)%6) or 6

solid=hexagram[upperhexagram]+hexagram[lowerhexagram]
print(solid)

for (key,value) in Yao.items():
    if solid in key:
        print(value)
